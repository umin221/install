!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n=window.webpackJsonp;window.webpackJsonp=function(t,r,i){for(var a,s,c=0,u=[];c<t.length;c++)s=t[c],o[s]&&u.push(o[s][0]),o[s]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);for(n&&n(t,r,i);u.length;)u.shift()()};var r={},o={9:0};t.e=function(e){function n(){s.onerror=s.onload=null,clearTimeout(c);var t=o[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),o[e]=void 0)}var r=o[e];if(0===r)return new Promise(function(e){e()});if(r)return r[2];var i=new Promise(function(t,n){r=o[e]=[t,n]});r[2]=i;var a=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.timeout=12e4,t.nc&&s.setAttribute("nonce",t.nc),s.src=t.p+"static/js/"+e+".js";var c=setTimeout(n,12e4);return s.onerror=s.onload=n,a.appendChild(s),i},t.m=e,t.c=r,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="../",t.oe=function(e){throw console.error(e),e},t(t.s="ooa8")}({"+E39":function(e,t,n){e.exports=n("Trbc")(2)},"+ZMJ":function(e,t,n){e.exports=n("Trbc")(39)},"+tPU":function(e,t,n){e.exports=n("49fU")(43)},"//Fk":function(e,t,n){e.exports={default:n("U5ju"),__esModule:!0}},"/bQp":function(e,t,n){e.exports=n("49fU")(14)},"/ocq":function(e,t,n){e.exports=n("49fU")(62)},"/tYa":function(e,t,n){e.exports=n("un3Z")(94)},"1we3":function(e,t){void 0!==window.$sqlite&&(window._$sqlite=window.$sqlite),window.$sqlite={},config.offline&&($sqlite.db=new function(e,t,n,r){function o(e){var t=[];for(var n in e)t.push(n+"='"+e[n]+"'");return t.join(",")}var i=openDatabase(e,t,n,r),a={};return a.query=function(e,t){function n(n,o){t&&(o.sql=e,t.call(r,o))}var r=this;i.transaction(function(t){t.executeSql(e,[],n)})},a.ctSql=function(e,t){this.query(e,t)},a.ct=function(e,t,n){var r="create table "+e+function(e){var t=[];for(var n in e){var r="id"==n?" primary key":"";t.push("'"+n+"' "+e[n]+r)}return"("+t.join(",")+")"}(t);this.query(r,n)},a.rt=function(e,t,n){var r="alter table "+e+" rename to "+t;this.query(r,n)},a.dt=function(e,t){var n="drop table if exists "+e;this.query(n,t)},a.getMaxId=function(e,t,n){var r="select max("+t+") as maxId from "+e;this.get(r,n)},a.gt=function(e){var t=this;t.query("select name from sqlite_master where type='table' and sql<>'' and name not in ('__WebKitDatabaseInfoTable__','sqlite_autoindex___WebKitDatabaseInfoTable___1','sqlite_sequence','sqlite_stat1','sqlite_stat2','sqlite_stat3')",function(n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).name);e.call(t,r)})},a.gts=function(e,t){var n=this,r="select sql from sqlite_master where type='table' and name='"+e+"'";n.query(r,function(e){t.call(n,e.rows.length&&e.rows.item(0).sql)})},a.insert=function(e,t,n){var r=function(e){var t=[],n=[],r={};for(var o in e)t.push(o),null==e[o]?n.push(e[o]+""):"string"==typeof e[o]&&e[o].indexOf("datetime")>=0?n.push(e[o]+""):n.push("'"+e[o]+"'");return r.key=t.join(","),r.value=n.join(","),r}(t),o="insert into "+e+"("+r.key+") values("+r.value+")";this.query(o,n)},a.insertSQL=function(e,t){this.query(e,t)},a.update=function(e,t,n,r){var i="update "+e+" set "+o(t)+" where id="+n;this.query(i,r)},a.updateByCondition=function(e,t,n,r){var i="update "+e+" set "+o(t)+" where "+o(n).split(",").join(" and ");this.query(i,r)},a.updateSQL=function(e,t){this.query(e,t)},a.delete=function(e,t,n){var r="delete from "+e+" where id = '"+t+"'";this.query(r,n)},a.deleteSQL=function(e,t){this.query(e,t)},a.get=function(e,t){var n=this;n.query(e,function(e){var r=e.rows.length>0?e.rows.item(0):null;t.call(n,r)})},a.gv=function(e){var t=this;t.query("select sqlite_version(*) as version",function(n){e.call(t,n.rows.item(0).version)})},a.af=function(e,t,n,r){var o="alter table "+e+" add column '"+t+"' "+n;this.query(o,r)},a.gf=function(e,t){var n=this;n.gts(e,function(e){var r=e.match(/\(.*\)/);r=r[0].slice(1,r[0].length-1).split(",");for(var o=[],i=0;i<r.length;i++){var a=r[i].split(" ");""!=(a=a[0].replace('"',"").replace("'",""))&&o.push(a)}t.call(n,o)})},a}("sqlite","1.1","sqlite 1.1",5242880)),e.exports=$sqlite.db},"2KxR":function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},"3fs2":function(e,t,n){e.exports=n("49fU")(100)},"49fU":function(e,t){e.exports=vendor_library},"52Bo":function(e,t,n){e.exports=n("Trbc")(223)},"67VX":function(e,t){},"7+uW":function(e,t,n){e.exports=n("49fU")(18)},"77Pl":function(e,t,n){e.exports=n("Trbc")(13)},"7KvD":function(e,t,n){e.exports=n("Trbc")(0)},"82Mu":function(e,t,n){var r=n("7KvD"),o=n("L42u").set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n("R9M2")(a);e.exports=function(){var e,t,n,u=function(){var r,o;for(c&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(u)};else if(i){var l=!0,f=document.createTextNode("");new i(u).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}else if(s&&s.resolve){var d=s.resolve();n=function(){d.then(u)}}else n=function(){o.call(r,u)};return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},"8QR9":function(e,t,n){e.exports=n("49fU")(132)},"9CQL":function(e,t,n){e.exports=n("49fU")(84)},Akqg:function(e,t,n){"use strict";var r,o=Object.prototype,i=o.hasOwnProperty,a=o.toString;"function"==typeof Symbol&&(r=Symbol.prototype.valueOf);var s=function(e){return e!=e},c={boolean:1,number:1,string:1,undefined:1},u=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/,l=/^[A-Fa-f0-9]+$/,f={};f.a=f.type=function(e,t){return typeof e===t},f.defined=function(e){return void 0!==e},f.empty=function(e){var t,n=a.call(e);if("[object Array]"===n||"[object Arguments]"===n||"[object String]"===n)return 0===e.length;if("[object Object]"===n){for(t in e)if(i.call(e,t))return!1;return!0}return!e},f.equal=function(e,t){if(e===t)return!0;var n,r=a.call(e);if(r!==a.call(t))return!1;if("[object Object]"===r){for(n in e)if(!(f.equal(e[n],t[n])&&n in t))return!1;for(n in t)if(!(f.equal(e[n],t[n])&&n in e))return!1;return!0}if("[object Array]"===r){if((n=e.length)!==t.length)return!1;for(;n--;)if(!f.equal(e[n],t[n]))return!1;return!0}return"[object Function]"===r?e.prototype===t.prototype:"[object Date]"===r&&e.getTime()===t.getTime()},f.hosted=function(e,t){var n=typeof t[e];return"object"===n?!!t[e]:!c[n]},f.instance=f.instanceof=function(e,t){return e instanceof t},f.nil=f.null=function(e){return null===e},f.undef=f.undefined=function(e){return void 0===e},f.args=f.arguments=function(e){var t="[object Arguments]"===a.call(e),n=!f.array(e)&&f.arraylike(e)&&f.object(e)&&f.fn(e.callee);return t||n},f.array=Array.isArray||function(e){return"[object Array]"===a.call(e)},f.args.empty=function(e){return f.args(e)&&0===e.length},f.array.empty=function(e){return f.array(e)&&0===e.length},f.arraylike=function(e){return!!e&&!f.bool(e)&&i.call(e,"length")&&isFinite(e.length)&&f.number(e.length)&&e.length>=0},f.bool=f.boolean=function(e){return"[object Boolean]"===a.call(e)},f.false=function(e){return f.bool(e)&&!1===Boolean(Number(e))},f.true=function(e){return f.bool(e)&&!0===Boolean(Number(e))},f.date=function(e){return"[object Date]"===a.call(e)},f.date.valid=function(e){return f.date(e)&&!isNaN(Number(e))},f.element=function(e){return void 0!==e&&"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&1===e.nodeType},f.error=function(e){return"[object Error]"===a.call(e)},f.fn=f.function=function(e){if("undefined"!=typeof window&&e===window.alert)return!0;var t=a.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t||"[object AsyncFunction]"===t},f.number=function(e){return"[object Number]"===a.call(e)},f.infinite=function(e){return e===1/0||e===-1/0},f.decimal=function(e){return f.number(e)&&!s(e)&&!f.infinite(e)&&e%1!=0},f.divisibleBy=function(e,t){var n=f.infinite(e),r=f.infinite(t),o=f.number(e)&&!s(e)&&f.number(t)&&!s(t)&&0!==t;return n||r||o&&e%t==0},f.integer=f.int=function(e){return f.number(e)&&!s(e)&&e%1==0},f.maximum=function(e,t){if(s(e))throw new TypeError("NaN is not a valid value");if(!f.arraylike(t))throw new TypeError("second argument must be array-like");for(var n=t.length;--n>=0;)if(e<t[n])return!1;return!0},f.minimum=function(e,t){if(s(e))throw new TypeError("NaN is not a valid value");if(!f.arraylike(t))throw new TypeError("second argument must be array-like");for(var n=t.length;--n>=0;)if(e>t[n])return!1;return!0},f.nan=function(e){return!f.number(e)||e!=e},f.even=function(e){return f.infinite(e)||f.number(e)&&e==e&&e%2==0},f.odd=function(e){return f.infinite(e)||f.number(e)&&e==e&&e%2!=0},f.ge=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!f.infinite(e)&&!f.infinite(t)&&e>=t},f.gt=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!f.infinite(e)&&!f.infinite(t)&&e>t},f.le=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!f.infinite(e)&&!f.infinite(t)&&e<=t},f.lt=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!f.infinite(e)&&!f.infinite(t)&&e<t},f.within=function(e,t,n){if(s(e)||s(t)||s(n))throw new TypeError("NaN is not a valid value");if(!f.number(e)||!f.number(t)||!f.number(n))throw new TypeError("all arguments must be numbers");return f.infinite(e)||f.infinite(t)||f.infinite(n)||e>=t&&e<=n},f.object=function(e){return"[object Object]"===a.call(e)},f.primitive=function(e){return!e||!("object"==typeof e||f.object(e)||f.fn(e)||f.array(e))},f.hash=function(e){return f.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},f.regexp=function(e){return"[object RegExp]"===a.call(e)},f.string=function(e){return"[object String]"===a.call(e)},f.base64=function(e){return f.string(e)&&(!e.length||u.test(e))},f.hex=function(e){return f.string(e)&&(!e.length||l.test(e))},f.symbol=function(e){return"function"==typeof Symbol&&"[object Symbol]"===a.call(e)&&"symbol"==typeof r.call(e)},e.exports=f},Au9i:function(e,t,n){e.exports=n("49fU")(135)},CXw9:function(e,t,n){"use strict";var r,o,i,a,s=n("O4g8"),c=n("7KvD"),u=n("+ZMJ"),l=n("RY/4"),f=n("kM2E"),d=n("EqjI"),p=n("lOnJ"),h=n("2KxR"),v=n("NWt+"),m=n("t8x9"),g=n("L42u").set,y=n("82Mu")(),b=n("qARP"),I=n("dNDb"),k=n("fJUb"),w="Promise",P=c.TypeError,N=c.process,x=c[w],S="process"==l(N),A=function(){},L=o=b.f,_=!!function(){try{var e=x.resolve(1),t=(e.constructor={})[n("dSzd")("species")]=function(e){e(A,A)};return(S||"function"==typeof PromiseRejectionEvent)&&e.then(A)instanceof t}catch(e){}}(),T=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},C=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var r=e._v,o=1==e._s,i=0,a=function(t){var n,i,a=o?t.ok:t.fail,s=t.resolve,c=t.reject,u=t.domain;try{a?(o||(2==e._h&&K(e),e._h=1),!0===a?n=r:(u&&u.enter(),n=a(r),u&&u.exit()),n===t.promise?c(P("Promise-chain cycle")):(i=T(n))?i.call(n,s,c):s(n)):c(r)}catch(e){c(e)}};n.length>i;)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&O(e)})}},O=function(e){g.call(c,function(){var t,n,r,o=e._v,i=B(e);if(i&&(t=I(function(){S?N.emit("unhandledRejection",o,e):(n=c.onunhandledrejection)?n({promise:e,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=S||B(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},B=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if((t=n[r++]).fail||!B(t.promise))return!1;return!0},K=function(e){g.call(c,function(){var t;S?N.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},R=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),C(t,!0))},U=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw P("Promise can't be resolved itself");(t=T(e))?y(function(){var r={_w:n,_d:!1};try{t.call(e,u(U,r,1),u(R,r,1))}catch(e){R.call(r,e)}}):(n._v=e,n._s=1,C(n,!1))}catch(e){R.call({_w:n,_d:!1},e)}}};_||(x=function(e){h(this,x,w,"_h"),p(e),r.call(this);try{e(u(U,this,1),u(R,this,1))}catch(e){R.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n("xH/j")(x.prototype,{then:function(e,t){var n=L(m(this,x));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=S?N.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&C(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=u(U,e,1),this.reject=u(R,e,1)},b.f=L=function(e){return e===x||e===a?new i(e):o(e)}),f(f.G+f.W+f.F*!_,{Promise:x}),n("e6n0")(x,w),n("bRrM")(w),a=n("FeBl")[w],f(f.S+f.F*!_,w,{reject:function(e){var t=L(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!_),w,{resolve:function(e){return k(s&&this===a?x:this,e)}}),f(f.S+f.F*!(_&&n("dY0y")(function(e){x.all(e).catch(A)})),w,{all:function(e){var t=this,n=L(t),r=n.resolve,o=n.reject,i=I(function(){var n=[],i=0,a=1;v(e,!1,function(e){var s=i++,c=!1;n.push(void 0),a++,t.resolve(e).then(function(e){c||(c=!0,n[s]=e,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=L(t),r=n.reject,o=I(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},Dd8w:function(e,t,n){e.exports=n("Trbc")(167)},DmTc:function(e,t,n){e.exports=n("49fU")(134)},DuR2:function(e,t,n){e.exports=n("49fU")(19)},EqBC:function(e,t,n){"use strict";var r=n("kM2E"),o=n("FeBl"),i=n("7KvD"),a=n("t8x9"),s=n("fJUb");r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},EqjI:function(e,t,n){e.exports=n("Trbc")(11)},"FZ+f":function(e,t,n){e.exports=n("Trbc")(9)},FeBl:function(e,t,n){e.exports=n("Trbc")(1)},FgYs:function(e,t,n){e.exports=n.p+"static/img/add.4a00d3c.png"},HfMF:function(e,t,n){e.exports=n("un3Z")(93)},HvEI:function(e,t){},L42u:function(e,t,n){var r,o,i,a=n("+ZMJ"),s=n("knuC"),c=n("RPLV"),u=n("ON07"),l=n("7KvD"),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,v=l.Dispatch,m=0,g={},y="onreadystatechange",b=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},I=function(e){b.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},p=function(e){delete g[e]},"process"==n("R9M2")(f)?r=function(e){f.nextTick(a(b,e,1))}:v&&v.now?r=function(e){v.now(a(b,e,1))}:h?(i=(o=new h).port2,o.port1.onmessage=I,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",I,!1)):r=y in u("script")?function(e){c.appendChild(u("script"))[y]=function(){c.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:d,clear:p}},Lvau:function(e,t,n){e.exports=n("Trbc")(218)},M6a0:function(e,t,n){e.exports=n("49fU")(129)},Mhyx:function(e,t,n){var r=n("/bQp"),o=n("dSzd")("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},"NWt+":function(e,t,n){var r=n("+ZMJ"),o=n("msXi"),i=n("Mhyx"),a=n("77Pl"),s=n("QRG4"),c=n("3fs2"),u={},l={};(t=e.exports=function(e,t,n,f,d){var p,h,v,m,g=d?function(){return e}:c(e),y=r(n,f,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(i(g)){for(p=s(e.length);p>b;b++)if((m=t?y(a(h=e[b])[0],h[1]):y(e[b]))===u||m===l)return m}else for(v=g.call(e);!(h=v.next()).done;)if((m=o(v,y,h.value,t))===u||m===l)return m}).BREAK=u,t.RETURN=l},NYxO:function(e,t,n){e.exports=n("Trbc")(79)},NomF:function(e,t,n){"use strict";e.exports=n("qDzr")},O4g8:function(e,t,n){e.exports=n("49fU")(23)},ON07:function(e,t,n){e.exports=n("Trbc")(32)},QN45:function(e,t,n){var r=n("9CQL");config.debug&&new r.VConsole},QRG4:function(e,t,n){e.exports=n("Trbc")(46)},R9M2:function(e,t,n){e.exports=n("Trbc")(27)},RPLV:function(e,t,n){e.exports=n("49fU")(97)},"RY/4":function(e,t,n){e.exports=n("49fU")(101)},Trbc:function(e,t){e.exports=components_library},U5ju:function(e,t,n){n("M6a0"),n("zQR9"),n("+tPU"),n("CXw9"),n("EqBC"),n("jKW+"),e.exports=n("FeBl").Promise},"VU/8":function(e,t,n){e.exports=n("Trbc")(6)},WGyx:function(e,t,n){e.exports=n("49fU")(83)},Zrlr:function(e,t,n){e.exports=n("un3Z")(50)},"Zuz+":function(e,t,n){e.exports=n("Trbc")(188)},"bI+b":function(e,t){},bRrM:function(e,t,n){"use strict";var r=n("7KvD"),o=n("FeBl"),i=n("evD5"),a=n("+E39"),s=n("dSzd")("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];a&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},bqBU:function(e,t,n){"use strict";(function(e){var t=n("woOf"),r=n.n(t),o=n("mvHQ"),i=n.n(o),a=n("Zrlr"),s=n.n(a),c=n("wxAW"),u=n.n(c),l=n("mtWM"),f=n.n(l),d=n("8QR9"),p=n("/tYa");!function(e){var t=e.Util,n=e.Session,o=config.cacheExp,a=function(){function e(){var r=this;s()(this,e),t.log("Native init..."),Object.defineProperty(this,"userID",{enumerable:!1,configurable:!0,get:function(){return console.info("当前用户ID："+r._userID),r._userID},set:function(e){n.remove("userInfo"),console.info("设置用户ID："+e),r._userID=e,n.set("userID",e)}}),this.userID=this.getUserID()}return u()(e,[{key:"getUserInfo",value:function(e){var r=this.userID,o=t.parse(n.get("userInfo"));t.log("获取用户信息 "+r),o&&o["Login Name"]===r?e(o):this.ajax({method:"get",url:'data/KL Employee Interface BO/Employee/?searchspec=[Login Name] = "'+r+'" &PageSize=2&StartRowNum=0',success:function(t){n.set("userInfo",i()(t.items)),e(t.items)}})}},{key:"getUserID",value:function(){var e=n.get("userID");return e||((e=t.getParam("userID"))&&e.length<10?e:"GUESTERM")}},{key:"chooseImage",value:function(e){wx.chooseImage(r()({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(e){var t=e.localIds;console.log(t)}},e))}},{key:"uploadImage",value:function(e){wx.uploadImage(r()({localId:"",isShowProgressTips:1,success:function(e){var t=e.serverId;console.log(t)}},e))}},{key:"previewImage",value:function(e){wx.previewImage(e)}},{key:"previewFile",value:function(e){wx.previewFile(e)}},{key:"scanQRCode",value:function(e){wx.scanQRCode(r()({desc:"scanQRCode desc",needResult:1,scanType:["barCode"],success:function(e){console.log(e)},error:function(e){e.errMsg.indexOf("function_not_exist")>0&&alert("版本过低请升级")}},e))}},{key:"getLocation",value:function(e){wx.getLocation(r()({type:"wgs84",success:function(e){console.log(e)}},e))}},{key:"openLocation",value:function(e){wx.openLocation(r()({latitude:0,longitude:0,name:"",address:"",scale:1},e))}},{key:"online",value:function(e){var t=this.userID,n=config.authorization,r=Object.extend(!0,{headers:{Authorization:"Basic "+btoa(t+":"+("ACCOUNT"===n?t:n))},timeout:3e4,method:"post"},e);/^http/i.test(e.url)||(r.url=config.host+config.context+r.url),f()(r).then(function(t){var n=t.data;n.ERROR&&Toast({message:"出了点小情况，请稍后再试。<"+n.ERROR+">"}),e.success(t.data)}).catch(function(t){e.error(t)})}},{key:"cache",value:function(e){if(d.default.isSupport){var t=d.default.get(e.url);if(t)e.success(t),setTimeout(function(){Indicator.close()},200);else{var n=e.success;e.success=function(t){d.default.set(e.url,t,{exp:o}),n(t)},this.online(e)}}else this.online(e)}},{key:"ajax",value:function(e){var t=this;e.execute=function(e){return t[e.cache?"cache":"online"](e)},p.default.queue(e)}}]),e}(),c=e.Native=new a;!1===config.wxJSBridge&&(c.chooseImage=function(e){t.invoke(e.success,{localIds:["img:///storage/emulated/0/Tencent/WeixinWork/tempimagecache/1688852028455906/b4bc209fa2f44c64a57c159645330240.jpg"],errMsg:"chooseImage:ok"})},c.uploadImage=function(e){t.invoke(e.success,{serverId:"q2RIe0kWOZSukuItUMEHvepbWIPuGhPllvwxOfl8CcSi2788CnicvQECHxjdyyjd",errMsg:"uploadImage:ok"})},c.getLocation=function(e){t.invoke(e.success,{latitude:"36.308466",longitude:"119.399331",speed:"",accuracy:""})},c.scanQRCode=function(e){console.log("打开扫一扫")},c.openLocation=function(e){console.log("打开企业微信查看地图")},c.previewFile=function(e){console.log(e)},c.previewImage=function(e){console.log(e)})}(e[e.context])}).call(t,n("DuR2"))},"d8/S":function(e,t){},dNDb:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},dSzd:function(e,t,n){e.exports=n("49fU")(3)},dY0y:function(e,t,n){var r=n("dSzd")("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},douE:function(e,t,n){e.exports=n("un3Z")(91)},dwKB:function(e,t,n){e.exports=n("un3Z")(92)},e6n0:function(e,t,n){e.exports=n("49fU")(30)},evD5:function(e,t,n){e.exports=n("Trbc")(3)},fJUb:function(e,t,n){var r=n("77Pl"),o=n("EqjI"),i=n("qARP");e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},flkI:function(e,t){e.exports={getPartners:{items:[{Link:[{rel:"self",href:"http://sieb-template/siebel-rest/v1.0/data/Channel Partner/Channel Partner/1-2BSB6P0I",name:"Channel Partner"},{rel:"canonical",href:"http://sieb-template/siebel-rest/v1.0/data/Channel Partner/Channel Partner/1-2BSB6P0I",name:"Channel Partner"},{rel:"child",href:"http://sieb-template/siebel-rest/v1.0/data/Channel Partner/Channel Partner/1-2BSB6P0I/User",name:"User"},{rel:"child",href:"http://sieb-template/siebel-rest/v1.0/data/Channel Partner/Channel Partner/1-2BSB6P0I/Position",name:"Position"},{rel:"child",href:"http://sieb-template/siebel-rest/v1.0/data/Channel Partner/Channel Partner/1-2BSB6P0I/CUT Address",name:"CUT Address"}],"KL Partner Owner Name":"Administrator SADMIN","KL Primary Address Province":"广东","Partner Category":"委外厂商",Alias:"Test0207001","Primary Address City":"深圳市",Id:"1-2BSB6P0I","KL Partner Status":"待审批","Primary Address Street":"123","Primary Address Country":"中国",Name:"Test0207001","Home Page":"","KL Partner Type":"委外厂商","Main Phone Number":"Test0207001"},{Link:[{rel:"self",href:"http://sieb-template/siebel-rest/v1.0/data/Channel Partner/Channel Partner/1-2BSB6PVK",name:"Channel Partner"},{rel:"canonical",href:"http://sieb-template/siebel-rest/v1.0/data/Channel Partner/Channel Partner/1-2BSB6PVK",name:"Channel Partner"},{rel:"child",href:"http://sieb-template/siebel-rest/v1.0/data/Channel Partner/Channel Partner/1-2BSB6PVK/User",name:"User"},{rel:"child",href:"http://sieb-template/siebel-rest/v1.0/data/Channel Partner/Channel Partner/1-2BSB6PVK/Position",name:"Position"},{rel:"child",href:"http://sieb-template/siebel-rest/v1.0/data/Channel Partner/Channel Partner/1-2BSB6PVK/CUT Address",name:"CUT Address"}],"KL Partner Owner Name":"Administrator SADMIN","KL Primary Address Province":"广东","Partner Category":"委外厂商",Alias:"Test0207001","Primary Address City":"深圳市",Id:"1-2BSB6PVK","KL Partner Status":"待审批","Primary Address Street":"123","Primary Address Country":"中国",Name:"Test0207003","Home Page":"","KL Partner Type":"委外厂商","Main Phone Number":"Test0207001"},{Link:[{rel:"self",href:"http://sieb-template/siebel-rest/v1.0/data/Channel Partner/Channel Partner/1-2BSB7KLL",name:"Channel Partner"},{rel:"canonical",href:"http://sieb-template/siebel-rest/v1.0/data/Channel Partner/Channel Partner/1-2BSB7KLL",name:"Channel Partner"},{rel:"child",href:"http://sieb-template/siebel-rest/v1.0/data/Channel Partner/Channel Partner/1-2BSB7KLL/User",name:"User"},{rel:"child",href:"http://sieb-template/siebel-rest/v1.0/data/Channel Partner/Channel Partner/1-2BSB7KLL/Position",name:"Position"},{rel:"child",href:"http://sieb-template/siebel-rest/v1.0/data/Channel Partner/Channel Partner/1-2BSB7KLL/CUT Address",name:"CUT Address"}],"KL Partner Owner Name":"testuser SSO_TESTUSER1","KL Primary Address Province":"广东","Partner Category":"委外厂商",Alias:"Test0207001","Primary Address City":"深圳市",Id:"1-2BSB7KLL","KL Partner Status":"待审批","Primary Address Street":"123","Primary Address Country":"中国",Name:"Test0207008","Home Page":"","KL Partner Type":"委外厂商","Main Phone Number":"Test0207001"},{Link:[{rel:"self",href:"http://sieb-template/siebel-rest/v1.0/data/Channel Partner/Channel Partner/1-2BSB7JYJ",name:"Channel Partner"},{rel:"canonical",href:"http://sieb-template/siebel-rest/v1.0/data/Channel Partner/Channel Partner/1-2BSB7JYJ",name:"Channel Partner"},{rel:"child",href:"http://sieb-template/siebel-rest/v1.0/data/Channel Partner/Channel Partner/1-2BSB7JYJ/User",name:"User"},{rel:"child",href:"http://sieb-template/siebel-rest/v1.0/data/Channel Partner/Channel Partner/1-2BSB7JYJ/Position",name:"Position"},{rel:"child",href:"http://sieb-template/siebel-rest/v1.0/data/Channel Partner/Channel Partner/1-2BSB7JYJ/CUT Address",name:"CUT Address"}],"KL Partner Owner Name":"谢小为 XIEXW","KL Primary Address Province":"","Partner Category":"委外厂商",Alias:"23","Primary Address City":"",Id:"1-2BSB7JYJ","KL Partner Status":"待审批","Primary Address Street":"","Primary Address Country":"",Name:"app006","Home Page":"","KL Partner Type":"委外厂商","Main Phone Number":"+8633"}],Link:{rel:"self",href:"http://sieb-template/siebel-rest/v1.0/data/Channel Partner/Channel Partner",name:"Channel Partner"}},findPartnerById:{SiebelMessage:{"Channel Partner":{"Channel Partner_Position":{IsPrimaryMVG:"Y",Position:"系统管理员_DEPT0002_17063032","Sales Rep":"SADMIN","Last Name":"Administrator"},"CUT Address":{Province:"广东",Id:"1-2BSB6P0P",City:"深圳市",Country:"中国","Street Address":"123"},User:[{Id:"1-33QM-6","KL Type":"","User Type":"","First Name":".","Last Name":"张沙沙","Cellular Phone #":"","Login Name":"14080088"},{Id:"1-2BSBY1HI","KL Type":"","User Type":"","First Name":".","Last Name":"23","Cellular Phone #":"","Login Name":"23"}],"KL Partner Owner Name":"Administrator SADMIN","KL Primary Address Province":"广东","Partner Category":"委外厂商",Alias:"Test0207001","Primary Address City":"深圳市",Id:"1-2BSB6P0I","KL Partner Status":"待审批","Primary Address Street":"123","Primary Address Country":"中国",Name:"Test0207001","Home Page":"","KL Partner Type":"委外厂商","Main Phone Number":"Test0207001"},IntObjectFormat:"Siebel Hierarchical",MessageId:"1-IRILZ",IntObjectName:"Base Channel Partner",MessageType:"Integration Object"},ErrorContextSearchSpec:"",OMErrorCode:"",NumOutputObjects:"1",ErrorSymbol:"",OMErrorSymbol:"",ErrorCode:"0x0",ErrorContextIntComp:"",PrimaryRowId:"1-2BSB6P0I"}}},hJx8:function(e,t,n){e.exports=n("Trbc")(7)},"jKW+":function(e,t,n){"use strict";var r=n("kM2E"),o=n("qARP"),i=n("dNDb");r(r.S,"Promise",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},kM2E:function(e,t,n){e.exports=n("Trbc")(14)},knuC:function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},kqR2:function(e,t,n){e.exports=n("un3Z")(95)},lOnJ:function(e,t,n){e.exports=n("Trbc")(43)},msXi:function(e,t,n){var r=n("77Pl");e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},mtWM:function(e,t,n){e.exports=n("49fU")(64)},mvHQ:function(e,t,n){e.exports=n("49fU")(53)},nENg:function(e,t,n){"use strict";t.a={host:"https://kas.kinlong.cn:8090",debug:!1}},ooa8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),o=n("NYxO"),i=n("/ocq");r.default.use(i.default);var a=new i.default({routes:[{path:"/",name:"login",component:function(e){n.e(1).then(function(){var t=[n("yk89")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/index",name:"index",component:function(e){n.e(3).then(function(){var t=[n("xoS+")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{transition:"fade"}},{path:"/detail",name:"detail",component:function(e){n.e(0).then(function(){var t=[n("tOCr")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/search",name:"search",component:function(e){n.e(4).then(function(){var t=[n("YUlc")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{transition:"push"}},{path:"/assets",name:"assets",component:function(e){n.e(2).then(function(){var t=[n("cgE5")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/building",name:"building",component:function(e){n.e(5).then(function(){var t=[n("jWtw")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/floor",name:"floor",component:function(e){n.e(6).then(function(){var t=[n("Wh3g")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/setting",name:"setting",component:function(e){n.e(7).then(function(){var t=[n("uCzs")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/faq",name:"faq",component:function(e){n.e(8).then(function(){var t=[n("EfuX")];e.apply(null,t)}.bind(this)).catch(n.oe)}}]}),s=(n("HvEI"),n("d8/S"),n("zkVe"),n("douE"),n("dwKB"),n("bqBU"),n("woOf")),c=n.n(s),u=n("Zrlr"),l=n.n(u),f=n("wxAW"),d=n.n(f);!function(e){var t=function(){function e(){l()(this,e),KND.Util.log("Tools init...")}return d()(e,[{key:"success",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c()({successTips:"操作成功!",errorTips:"",back:!1,error:function(e){return Toast(e)},success:function(e,t){Toast(e),t&&KND.Util.back()}},t),r=e.ERROR;r?n.error(n.errorTips||r):n.success(n.successTips,n.back)}},{key:"valid",value:function(e){var t=this.valid(),n={error:function(e){return Toast({message:e.join(" ， "),position:"bottom",duration:5e3})},success:function(){}};if(KND.Util.isFunction(e))n.success=e;else var r=c()(r,e);t.length?n.error(t):n.success()}},{key:"preAppend",value:function(e){document.write("<script type='application/javascript' src='"+e+"'><\/script>")}}]),e}();e.tools=new t}(window);n("QN45"),n("HfMF");Object.extend=n("NomF");n("DmTc"),n("WGyx"),n("bI+b");var p=n("52Bo"),h=n("Dd8w"),v=n.n(h),m=n("Zuz+"),g=config.proxy+"/webchat/download/external/downloadattachment?url="+config.attachServer+"/siebel-rest/v1.0/service/Workflow Process Manager/RunProcess",y="wechat"===config.appNo?config.host+"/weixin-service/authorized/download_media?media_id=":config.proxy+"/webchat/api/local/downloadmedia?appNO="+config.appNo+"&media_id=",b={doc:"doc",docx:"doc",xls:"xls",xlsx:"xls",pdf:"pdf",jpg:""},I={name:"cus-attach",props:{attach:{type:Array,default:function(e){return[]}},edit:Boolean,title:String,ioName:String},computed:{empty:function(){return!this.edit&&!this.attach.length}},methods:v()({},Object(o.mapActions)("app",["removeAttach"]),{addFn:function(){var e=this;KND.Native.chooseImage({success:function(t){console.log(t);var n=t.localIds;for(var r in n)console.log(n[r]),e.uploadLocalIds(n[r])}})},uploadLocalIds:function(e){var t=this;KND.Native.uploadImage({localId:e,success:function(n){console.log(n),t.attach.unshift({localId:e,serverId:n.serverId})}})},getServerIds:function(){var e=this.attach;return Array.prototype.filter.call(e,function(e){return e.serverId})},convertType:function(e){return b[e]},convertImgSrc:function(e){return e.src=encodeURI(e.serverId?y+e.serverId:g+"&IOName="+this.ioName+"&Object Id="+e.Id+"&ProcessName=KL Attachment Query Process"),e.src},previewFileFn:function(e){KND.Native.previewFile({url:e.src,name:e.AgreeFileName+"."+e.AgreeFileExt,size:e.AgreeFileSize})},previewImageFn:function(e){var t=[];Array.prototype.map.call(this.attach,function(e){return e.src&&t.push(e.src),!1}),KND.Native.previewImage({current:t[e],urls:t})},deleteFn:function(e){var t=this,n=t.attach[e],r=function(e){return t.attach.splice(e,1)};MessageBox.confirm("删除后无法还原?","请确认").then(function(o){n.Id?t.removeAttach({data:{PrimaryRowId:n.Id,IOName:t.ioName},success:function(t){r(e)}}):r(e)})}}),components:{titleGroup:m.default}},k={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cus-attach-container"},[e.title?r("title-group",[e._v(e._s(e.title))]):e._e(),e._v(" "),r("empty",{directives:[{name:"show",rawName:"v-show",value:e.empty,expression:"empty"}],attrs:{tips:"暂无附件"}}),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.empty,expression:"!empty"}],staticClass:"cus-attach co-flex co-wp"},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.edit,expression:"edit"}],on:{click:e.addFn}},[r("img",{attrs:{src:n("FgYs")}})]),e._v(" "),e._l(e.attach,function(t,n){return r("div",[r("span",{staticClass:"xs-icon",class:{"icon-delete":e.edit},on:{click:function(t){e.deleteFn(n)}}}),e._v(" "),e.convertType(t.AgreeFileExt)?r("span",{staticClass:"content pdf xs-icon",class:e.convertType(t.AgreeFileExt),attrs:{"data-src":e.convertImgSrc(t)},on:{click:function(n){e.previewFileFn(t)}}}):r("img",{attrs:{src:e.convertImgSrc(t)},on:{click:function(t){e.previewImageFn(n)}}})])})],2)],1)},staticRenderFns:[]},w=n("VU/8")(I,k,!1,function(e){n("qnRB")},null,null).exports,P=n("Lvau"),N=n("Au9i"),x={created:function(){var e=this;Indicator.process=function(t){!1===t?setTimeout(function(){e.visible=!1},1e3):(e.visible=!0,e.text="string"==typeof t?t:t.text)}},data:function(){return{visible:!1,text:"加载中"}},components:{Spinner:N.Spinner},computed:{convertedSpinnerType:function(){switch(this.spinnerType){case"double-bounce":return 1;case"triple-bounce":return 2;case"fading-circle":return 3;default:return 0}}},props:{spinnerType:{type:String,default:"snake"}}},S={render:function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"mint-indicator"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"mint-indicator process"},[t("div",{staticClass:"mint-indicator-wrapper",style:{padding:this.text?"20px":"15px"}},[t("spinner",{staticClass:"mint-indicator-spin",attrs:{type:this.convertedSpinnerType,size:32}}),this._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:this.text,expression:"text"}],staticClass:"mint-indicator-text"},[this._v(this._s(this.text))])],1),this._v(" "),t("div",{staticClass:"mint-indicator-mask",on:{touchmove:function(e){e.stopPropagation(),e.preventDefault()}}})])])},staticRenderFns:[]},A=n("VU/8")(x,S,!1,function(e){n("67VX")},null,null).exports,L={name:"app",created:function(){var e=this,t=KND.Util.getDevice();KND.Util.back=function(){e.$router.back()},e.getAuthority(),t.IOS&&(e.platform="ios"),t.android&&(e.platform="android")},data:function(){return{platform:"",prevRoutes:[]}},watch:{$route:function(e,t){var n="turn";e.name!==t.name&&(e.name===this.prevRoutes[this.prevRoutes.length-1]?(n=(t.meta.transition||n)+"-off",this.setTransition(n),this.prevRoutes.pop()):null!=t.name&&(n=(e.meta.transition||n)+"-on",this.setTransition(n),this.prevRoutes.push(t.name)))}},computed:v()({},Object(o.mapState)("app",["transition","transitionName","alive"])),methods:v()({},Object(o.mapActions)("app",["getAuthority"]),Object(o.mapMutations)("app",["setTransition","setTransitionName"]),{clearTransition:function(){this.setTransition("")}})},_={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:this.platform,attrs:{id:"app"}},[t("transition",{attrs:{name:this.transitionName},on:{afterLeave:this.clearTransition}},[t("keep-alive",{attrs:{include:this.alive}},[t("router-view")],1)],1)],1)},staticRenderFns:[]},T=n("VU/8")(L,_,!1,null,null,null).exports,C=(n("slLo"),n("//Fk")),O=n.n(C),B=n("mvHQ"),K=n.n(B),R=KND.Util,U=function(){function e(){l()(this,e),R.log("CordovaTools init..."),this.init()}return d()(e,[{key:"init",value:function(){this.initEvent(),this.app={version:"*.*.*"}}},{key:"initEvent",value:function(){var e=this;document.addEventListener("offline",function(){console.log("offline")},!1),document.addEventListener("online",function(){console.log("online")},!1),document.addEventListener("deviceready",function(){e.onDeviceReady()},!1)}},{key:"onDeviceReady",value:function(){this.fetchUpdate(),this.getDevice(),this.getAppVersion()}},{key:"fetchUpdate",value:function(){var e=this,t=config.upgrade;chcp.fetchUpdate(function(n,r){if(console.log("fetchUpdate: "+K()(n)),n)console.log("--------没有发现新版本--------");else{console.log("--------发现新版本，准备更新--------");var o=function(){return Indicator.open("--------正在更新--------"),new O.a(function(e,t){chcp.installUpdate(function(n){console.log("installUpdate: "+K()(n)),n?t(n):e()})})};"default"===t?e.confirm("发现新版本",function(t){2===t?o().then(function(){e.alert("升级完成")}):console.log("--------取消更新--------")},"请确认",["取消","更新"]):o().then(function(){console.log("Update installed!")})}})}},{key:"scan",value:function(e,t){window.cordova?cordova.plugins.barcodeScanner.scan(e,function(e){console.error(e)}):e({text:"6917878030623"})}},{key:"zBarScan",value:function(e,t,n){var r={text_title:"条码扫描",text_instructions:"请对准条码",camera:"back",flash:"auto",drawSight:!0};"function"==typeof e?t=e:r=c()(r,e),cloudSky?cloudSky.zBar.scan(r,t,function(e){console.log(e)}):t("6917878030623")}},{key:"goHome",value:function(){navigator.Backbutton.goHome(function(){console.log("goHome success")},function(){console.log("goHome success1")})}},{key:"checkNetwork",value:function(){return navigator.connection.type||"wifi"}},{key:"alert",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"提示",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"确定";navigator.notification?navigator.notification.alert(e,t,n,r):alert(e)})},{key:"confirm",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"提示",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["取消","确认"];if(navigator.notification)navigator.notification.confirm(e,t,n,r);else{t(confirm(e)?2:1)}})},{key:"getDevice",value:function(){this.platform=KND.Util.getDevice()}},{key:"getAppVersion",value:function(){var e=this,t=this.platform.IOS?"ios":"android";cordova&&cordova.getAppVersion.getVersionNumber().then(function(n){n!==config[t].version&&console.log("app需要更新，请前往公众号更新"),e.app.version=n})}}]),e}();tools.cordova=new U,c()(config,{host:"https://www.kinlong.cn",offline:!0,android:{version:"1.0.0"},ios:{version:"1.0.0"}});var j=n("kqR2"),q={queryInstallTask:function(e){return{url:"service/EAI Siebel Adapter/Query",data:{body:{OutputIntObjectName:"Base KL Contact - Installation Task",PrimaryRowId:e.data.id,SearchSpec:"("+KND.Util.condition2D({"Calculated Activity Status":["In Progress","Approved","Close Reject"]},"KL Installation Task"," OR ")+") AND "+KND.Util.condition({"KL Detail Type LIC":"Lock Installation Batch"},"KL Installation Task"),ViewMode:"All",StartRowNum:"0",PageSize:"100"}}}},queryEmpInstallTask:function(e){var t=e.success;return{url:"service/EAI Siebel Adapter/Query",data:{body:{OutputIntObjectName:"Base KL Installation Task",SearchSpec:"("+KND.Util.condition2D({"Calculated Activity Status":["In Progress","Approved","Close Reject"]},"KL Installation Task"," OR ")+") AND "+KND.Util.condition({"KL Detail Type LIC":"Lock Installation Batch","Primary Owner Id":e.data.id},"KL Installation Task"),StartRowNum:"0",PageSize:"100"}},success:function(e){var n=e.SiebelMessage;e.SiebelMessage={Contact:n},t(e)}}},getLayer:function(e){return{url:"service/EAI Siebel Adapter/Query",data:{body:{OutputIntObjectName:"Base KL Install Order Asset",SearchSpec:KND.Util.condition(e.data,"Asset Room")}}}},getLayerSort:function(e){return{url:"service/EAI Siebel Adapter/QueryPage",data:{body:{OutputIntObjectName:"Base KL Install Order Asset",SearchSpec:KND.Util.condition(e.data,"Asset Room"),SortSpec:"KL Room Number(ASCENDING)",StartRowNum:0,PageSize:100}}}},upsertRoom:function(e){return{url:"service/Workflow Process Manager/RunProcess",data:{body:{ProcessName:"KL Install Order Asset Room Upsert Process",SiebelMessage:{MessageId:"",MessageType:"Integration Object",IntObjectName:"Base KL Install Order Asset Address",IntObjectFormat:"Siebel Hierarchical","ListOfBase KL Install Order Asset Address":{"Base KL Install Order Asset Address":e.data}}}}}},removeRoom:function(e){return{method:"delete",url:"data/KL Install Order Asset/KL Install Order Asset/"+e.data.id,data:{}}},removeBuilding:function(e){var t=e.data;return t.ProcessName="KL Install Order Asset Room Delete Process",delete e.data,{url:"service/Workflow Process Manager/RunProcess",data:{body:t}}},queryBuilding:function(e){return{url:"service/Workflow Process Manager/RunProcess",data:{body:{ProcessName:"KL Install Order Asset Building Query Process",OrderId:e.data.OrderId,TaskId:e.data.TaskId}}}},addBuilding:function(e){var t=Object.extend({Type:"Add",BuilingName:"栋",FloorName:"F",BuildingNum:"1",RoomNum:"4",ProcessName:"KL Install Order Asset Create Process",FloorNum:"1"},e.data);return delete e.data,{url:"service/Workflow Process Manager/RunProcess/",data:{body:t}}},updateBuildingName:function(e){var t=e.data;return t.ProcessName="KL Install Order Asset Building Update Process",delete e.data,{url:"service/Workflow Process Manager/RunProcess",data:{body:t}}},queryOrderLines:function(e){return{method:"get",url:"data/Order Entry - Line Items/Order Entry - Line Items/?searchspec="+KND.Util.condition(e.data)+"&PageSize=100&StartRowNum=0"}},installOrderAssets:function(e){var t=e.data;return delete e.data,{url:"service/Workflow Process Manager/RunProcess/",data:{body:{ProcessName:"KL Install Order Asset Room Upsert Process",Login:t["Login Name"],SiebelMessage:{MessageId:"",MessageType:"Integration Object",IntObjectName:"Base KL Install Order Asset Address",IntObjectFormat:"Siebel Hierarchical","ListOfBase KL Install Order Asset Address":{"Base KL Install Order Asset Address":{Id:t["Personal Address Id"],"ListOfKL Install Order Asset":{"KL Install Order Asset":{Id:t.Id,"Serial Number":t["Serial Number"],"Product Id":t["Product Id"],"KL Product Model No Lock Body":t["KL Product Model No Lock Body"],"KL Product Model No Panel":t["KL Product Model No Panel"]}}}}}}}}},queryUserInfo:function(e){var t=e.data,n=e.error,r=e.success;return{method:"get",url:"data/KL User/User/?searchspec="+KND.Util.condition(t)+"&PageSize=2&StartRowNum=0",error:function(e){console.log(e);var o=function(e){q.queryInstallTask=q.queryEmpInstallTask,KND.Native.userID=t["Login Name"],KND.Native.getUserInfo(function(e){console.log(e),r({items:e})})};"PROD"===config.env?D({key:"queryEmployeeInfo",data:t,success:o,error:function(e){console.log(e),n(e)}}):"Asdf2017"===t["KL Outsource Password"]?o():Toast("密码错误")}}},queryEmployeeInfo:function(e){var t=e.data;return{url:"https://www.kinlong.cn/sso/users/access/",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic c2llYmVsT0F1dGh3ZWJjbGllbnQ6c2llYmVsT0F1dGh3ZWJjbGllbnQ="},data:KND.Util.param({grant_type:"password",username:t["Login Name"],password:t["KL Outsource Password"],scope:"UserProfile.users"})}}},D=function(e){!function(e){if(config.online)KND.Native.ajax(e);else{var t=n("flkI");e.success(t[e.key])}}(Object.extend(!0,e,q[e.key](e)))},E={get:D},M="pending",F="finish",Q="error",H=n("1we3"),z=KND.Util,W=z.now,V=function(e){var t={};for(var n in e)t[n]=e[n]||"VARCHAR(50)";return t},J=function(e){return e.length?z.parse(e[0].data):e},Z=new(function(){function e(){l()(this,e)}return d()(e,[{key:"invokeSQL",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.shift();if(r)return new O.a(function(e,n){try{t.push(function(t){return e(t)}),H[r].apply(H,t)}catch(e){n(e)}})}},{key:"query",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" and ",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"=",i=["1=1"];for(var a in t)i.push(""+a+o+"'"+t[a]+"'");H.query("select * from "+e+" where "+i.join(r),function(e){for(var t=[],r=0;r<e.rows.length;r++)t.push(e.rows.item(r));n(t)})}},{key:"queryStrict",value:function(e,t,n,r,o){var i=this,a=[];i.invokeSQL("gts",e).then(function(s){s?i.query(e,t,n,r,o):n(a)})}},{key:"delete",value:function(e,t,n){var r=["1=1"];for(var o in t)r.push(o+"="+t[o]);H.query("delete from "+e+" where "+r.join(" and "),function(e){n(e)})}},{key:"upsert",value:function(e,t,n,r){this.query(e,n,function(o){o.length?H.updateByCondition(e,t,n,r):H.insert(e,t,r)})}},{key:"clear",value:function(e){var t=this;return new O.a(function(n,r){console.log("------------ 获取最新数据 start ------------"),console.log("清除历史数据..."),Indicator.process("正在初始化..."),t.invokeSQL("gt").then(function(r){for(var o=[],i=0,a=(r=z.toArray(r)).length;i<a;i++){var s=r[i];(e||"user"!==s)&&(console.log("清除数据库表 "+s+"..."),o.push(t.invokeSQL("dt",s)))}O.a.all(o).then(function(){console.log("clear ok..."),n()})})})}},{key:"create",value:function(e){var t=this;return new O.a(function(n,r){console.log("初始化数据库表...");var o=[t.invokeSQL("ct","user",V({user_id:null,data:null,state:null,create_date:null})).then(function(e){console.log("创建数据库表 user...")}),t.invokeSQL("ct","batch",V({data:"VARCHAR(255)",state:null,create_date:null})).then(function(e){console.log("创建数据库表 batch...")}),t.invokeSQL("ct","building",V({order_id:null,task_id:null,data:"VARCHAR(255)",state:null,create_date:null})).then(function(e){console.log("创建数据库表 building...")}),t.invokeSQL("ct","assets",V({order_id:null,task_id:null,building_num:null,data:"VARCHAR(255)",state:null,create_date:null})).then(function(e){console.log("创建数据库表 assets...")}),t.invokeSQL("ct","order_line",V({order_id:null,data:"VARCHAR(255)",state:null,create_date:null})).then(function(e){console.log("创建数据库表 order_line...")}),t.invokeSQL("ct","install_record_remote",V({task_id:null,serial_num:null,building_num:null,super:null,state:null,create_date:null})).then(function(e){console.log("创建数据库表 install_record_remote...")}),t.invokeSQL("ct","install_record_local",V({id:null,serial_num:null,data:null,super:null,state:null,create_date:null})).then(function(e){console.log("创建数据库表 install_record_local...")})];e||o.shift(),O.a.all(o).then(function(){console.log("init ok..."),Indicator.process("初始化完成..."),n()})})}}]),e}()),Y=new(function(){function e(){l()(this,e),z.log("DataHandle init...");var t=this;document.addEventListener("online",function(){Y.getPendingInstallRecord(function(e){e.length&&t.checkNetwork()})},!1)}return d()(e,[{key:"checkNetwork",value:function(){console.log("check network...");var e=this,t=tools.cordova.checkNetwork();"none"!==t&&("wifi"!==t?tools.cordova.confirm("当前非wifi环境，是否确认提交？",function(t){2===t&&e.submit()}):e.submit())}},{key:"getPendingInstallRecord",value:function(e){Z.queryStrict("install_record_local",{state:M},e)}},{key:"getUndoneInstallRecord",value:function(e){Z.queryStrict("install_record_local",{state:F},e,void 0," <> ")}},{key:"submit",value:function(){this.getUndoneInstallRecord(function(e){e.length?function(){Indicator.process("正在提交本地数据...");for(var t=[],n=[],r=function(r,o){var i=e[r];t.push(new O.a(function(e,t){E.get({key:"installOrderAssets",data:z.parse(i.data),success:function(t){n.push(i),H.update("install_record_local",{state:F},"'"+i.id+"'",function(t){e(t)})},error:function(t){var n=z.parse(i.data),r=t.response.data.ERROR||"记录<"+n.Id+" , "+n["Serial Number"]+"> 提交失败。";Toast(r),H.update("install_record_local",{state:Q},"'"+i.id+"'",function(t){console.log(t),e()})}})}))},o=0,i=e.length;o<i;o++)r(o);O.a.all(t).then(function(e){var t=Array.prototype.filter.call(e,function(e){return e});t.length&&MessageBox.alert("成功提交"+t.length+"条安装记录！","恭喜"),KND.Event.emit("submitHook"),Indicator.process(!1)}).catch(function(e){console.error(e),KND.Event.emit("submitHook"),Indicator.process(!1)})}():Toast({message:"暂无本地记录",position:"bottom"})})}}]),e}()),G=new(function(){function e(){l()(this,e),z.log("Cache init...")}return d()(e,[{key:"invoke",value:function(e){console.log(e);if(config.offline||{queryLocalInstallRecord:1}[e.key]){var t=this[e.key];t?t.call(this,e):console.error(e.key+" is not a function")}else E.get(e)}},{key:"init",value:function(e){Z.clear("all").then(function(e){return Z.create("all")}).then(function(t){return e(t)})}},{key:"refresh",value:function(e){var t=this;Y.getPendingInstallRecord(function(n){n.length?tools.cordova.alert("检测到本地还有未提交的数据，请先提交数据"):Z.clear().then(function(e){return Z.create()}).then(function(n){return t.reCache(e)}).catch(function(e){return console.error(e)})})}},{key:"reCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Z.invokeSQL;return new O.a(function(t,n){t(e)}).then(function(e){var n=e.SiebelMessage;n=n&&n.Contact||{};var r=z.toArray(n["KL Installation Task"]),o=[];for(var i in r){var a=r[i];o.push(z.mappDTO(a,["Id","KL Agreement Opportunity Name","KL Task Batch Name","Created"]))}return new O.a(function(e,n){console.log(r),console.log("开始缓存批次..."),Indicator.process("正在缓存批次数据..."),t("insert","batch",{data:K()({SiebelMessage:{Contact:{"KL Installation Task":o}}}),create_date:W()}).then(function(t){console.log("批次缓存完成..."),e(r)})})}).then(function(e){return new O.a(function(n,r){console.log("开始缓存订单行..."),Indicator.process("正在缓存订单数据...");for(var o=[],i=function(n,r){o.push(new O.a(function(r,o){var i=e[n];E.get({key:"queryOrderLines",data:{"Order Header Id":i["Order Id"]},success:function(e){console.log(e),t("insert","order_line",{order_id:i["Order Id"],data:K()(e),create_date:W()}).then(r)},error:function(e){console.error("订单失败："+e),r(e)}})}))},a=0,s=e.length;a<s;a++)i(a);O.a.all(o).then(function(t){console.log("订单行缓存完成..."),n(e)})})}).then(function(e){return new O.a(function(n,r){console.log("开始缓存楼栋..."),Indicator.process("正在缓存楼栋数据...");for(var o=[],i=function(n,r){o.push(new O.a(function(r,o){var i=e[n];E.get({key:"queryBuilding",data:{TaskId:i.Id},success:function(e){console.log(e),i.building=e,t("insert","building",{order_id:i["Order Id"],task_id:i.Id,data:K()(e),create_date:W()}).then(r)},error:function(e){console.error("楼栋失败："+e),r(e)}})}))},a=0,s=e.length;a<s;a++)i(a);O.a.all(o).then(function(t){console.log("楼栋缓存完成..."),n(e)})})}).then(function(e){return new O.a(function(n,r){console.log(e),console.log("开始缓存资产..."),Indicator.process("正在缓存资产数据...");for(var o=[],i=function(n,r){var i=[],a=e[n];parseInt(a.building&&a.building.BuildingNumber,10)&&(i=z.toArray(a.building.SiebelMessage.Building));for(var s=function(e,n){o.push(new O.a(function(n,r){E.get({key:"getLayer",data:{"Original Order Id":a["Order Id"],"KL Activity Id":a.Id,"KL Building Number":i[e].BuildingNum},success:function(r){console.log(r);var s=r.SiebelMessage;s=KND.Util.toArray(s&&s["Asset Room"]),t("insert","assets",{order_id:a["Order Id"],task_id:a.Id,building_num:i[e].BuildingNum,data:K()(r),create_date:W()}).then(n),o.push(new O.a(function(n,r){for(var o=0,c=s.length;o<c;o++){var u=s[o];t("insert","install_record_remote",{task_id:a.Id,serial_num:u["Serial Number"],building_num:i[e].BuildingNum,super:K()(u),create_date:W()}).then(n)}}))},error:function(e){console.error("资产失败："+e),n(e)}})}))},c=0,u=i.length;c<u;c++)s(c)},a=0,s=e.length;a<s;a++)i(a);O.a.all(o).then(function(e){console.log("资产缓存完成..."),Indicator.process("数据缓存成功..."),n(e)})})}).then(function(e){Indicator.process(!1),console.log(e),console.log("------------ 获取最新数据 end ------------")}).catch(function(e){console.error(e)})}},{key:"queryInstallTask",value:function(e){var t=this,n=function(){var n=e.success;e.success=function(e){n(e),t.refresh(e)},E.get(e)};"refresh"===e.mode?n():Z.queryStrict("batch",{},function(t){t.length?e.success(J(t)):n()})}},{key:"queryEmpInstallTask",value:function(e){this.queryInstallTask(e)}},{key:"searchInstallTask",value:function(e){Z.query("batch",{},function(t){e.success(t)})}},{key:"queryBuilding",value:function(e){Z.query("building",{task_id:e.data.TaskId},function(t){e.success(J(t))})}},{key:"getLayer",value:function(e){var t=e.data;Z.query("assets",{task_id:t["KL Activity Id"],building_num:t["KL Building Number"]},function(t){e.success(J(t))})}},{key:"queryOrderLines",value:function(e){Z.query("order_line",{order_id:e.data["Order Header Id"]},function(t){console.log(t),e.success(J(t))})}},{key:"serialHasBind",value:function(e){var t=e.serial,n=e.success;Z.query("install_record_local",{serial_num:t},function(e){e.length?n(e):Z.query("install_record_remote",{serial_num:t},function(e){n(e)})})}},{key:"installOrderAssets",value:function(e){var t=e.data,n=t.Id;Z.upsert("install_record_local",{id:n,serial_num:t["Serial Number"],data:K()(t),super:K()(e.super),state:M,create_date:W()},{id:n},function(t){e.success(t)})}},{key:"queryLocalInstallRecord",value:function(e){Z.query("install_record_local",{},function(t){for(var n={},r=0,o=t.length;r<o;r++)n[t[r].id]=t[r];e.success(n)})}},{key:"checkAndSubmit",value:function(){Y.checkNetwork()}},{key:"cacheUser",value:function(e){Z.upsert("user",{user_id:e.Id,data:K()(e),create_date:W()},{rowid:1},function(t){console.log("缓存用户信息成功 "+e["Last Name"])})}},{key:"getCacheUser",value:function(e){var t=e.success;Z.queryStrict("user",{rowid:1},function(e){t(e)})}},{key:"queryUserInfo",value:function(e){var t=this,n=e.success;e.success=function(e){var r=e.items;t.cacheUser(r),n(r)},E.get(e)}},{key:"logout",value:function(e){Y.getPendingInstallRecord(function(t){t.length?tools.cordova.alert("检测到本地还有未提交的数据，请先提交数据"):Z.delete("user",{rowid:1},function(t){e.success(t)})})}},{key:"clear",value:function(){Z.clear()}}]),e}()),$=function(e){KND.Native.ajax(e)},X=config.proxy,ee=config.attachServer,te={namespaced:!0,state:{transitionName:"",alive:[]},mutations:{setTransition:function(e,t){e.transitionName=t},setAlive:function(e,t){e.alive=t}},actions:{getLov:function(e,t){e.state;var n=t.data||{Type:t.type};$(c()({method:"get",cache:!0,url:'data/List Of Values/List Of Values/?searchspec=Active="Y" AND Language="CHS" AND '+KND.Util.condition(n)+"&PageSize=100&StartRowNum=0",success:function(e){console.log(e)}},t))},getAuthority:function(e,t){e.state;var n=config.appNo,r="wechat"===n?config.host+"/weixin-service/authorized/permission":X+"/webchat/api/local/permission";config.offline||$({method:"get",url:r+"?url="+encodeURIComponent(location.href.split("#")[0])+"&appNO="+n,headers:{"Content-Type":"application/x-www-form-urlencoded"},success:function(e){window.wx&&(wx.config(e),wx.ready(function(){console.log("WeChatAPI success")}))},error:function(e){console.log(e)}})},queryMedias:function(e,t){e.state;var n=t.data;t.success=t.success||function(e){return console.log(e)},$({url:"service/EAI Siebel Adapter/QueryPage",data:{body:{OutputIntObjectName:n.IOName,SearchSpec:KND.Util.condition(n.SearchSpec),SortSpec:"Updated (DESCENDING)",PageSize:"100"}},success:t.success})},upload:function(e,t){e.state;var n=config.appNo,r=t.data,o=r.MediaId,i="wechat"===n?config.host+"/weixin-service/authorized/upload_attachment":X+"/webchat/download/external/uploadattachment";t.success=t.success||function(e){return console.log(e)},t.error=t.error||function(e){return console.log(e)};var a=function(e,s){e?function(e){$({method:"get",url:i+"?url="+ee+"/siebel-rest/v1.0/service/Workflow Process Manager/RunProcess&IOName="+r.IOName+"&Object Id="+r.Id+"&Comment="+(r.Comment||"")+"&ProcessName=KL Attachment Upload Process&appNO="+n+"&mediaID="+e,success:function(e){console.log(e),a(o.pop(),e)},error:t.error})}(e.serverId):t.success(s)};a(o.pop())},removeAttach:function(e,t){e.state;console.log(t);var n=t.data;$({url:"service/EAI Siebel Adapter/Delete",data:{body:{IntObjectName:n.IOName,PrimaryRowId:n.PrimaryRowId}},success:t.success})}}};te.state.alive=["index","assets"];var ne={modules:{app:te,login:{namespaced:!0,state:{},mutations:{},actions:{queryUserInfo:function(e,t){e.state;t.key="queryUserInfo",G.invoke(t)},getCacheUser:function(e,t){e.state;t.key="getCacheUser",G.invoke(t)},clear:function(){G.invoke({key:"clear"})},logout:function(e,t){e.state;t.key="logout",G.invoke(t)}}},index:{namespaced:!0,state:{isManager:!0,pending:[],completed:[],result:[]},mutations:{setTask:function(e,t){var n=t.installTask;e[t.list]=KND.Util.toArray(n)}},actions:{queryInstallTask:function(e,t){e.state;var n=e.commit,r=(e.dispatch,t.key),o=t.data,i=t.mode,a=t.list,s=t.callback;G.invoke({key:r,data:o,mode:i,success:function(e){var t=e.SiebelMessage.Contact,r=t&&t["KL Installation Task"];n("setTask",{installTask:r,list:a}),s&&s(r)}})}}},assets:{namespaced:!0,state:{building:[{}],layer:[]},mutations:{setLayer:function(e,t){e.layer=KND.Util.toArray(t)},setBuilding:function(e,t){e.building=t},remove:function(e,t){e.building.splice(t,1)},clearLayer:function(e){e.layer=[]}},actions:{queryBuilding:function(e,t){var n=e.commit,r=e.dispatch,o=t.selected||0,i={key:"queryBuilding",data:t.data,success:function(e){var i=[];if("0"===e.BuildingNumber)MessageBox("提示","无楼栋信息").then(function(e){KND.Util.back()});else{var a=(i=KND.Util.toArray(e.SiebelMessage.Building)).length>o?o:0;r("getLayer",{"Original Order Id":t.data.OrderId,"KL Activity Id":t.data.TaskId,"KL Building Number":i[a].BuildingNum})}n("setBuilding",i)}};G.invoke(i)},getLayer:function(e,t){var n=e.commit;G.invoke({key:"getLayer",data:t,success:function(e){n("setLayer",e.SiebelMessage["Asset Room"])}})},removeBuilding:function(e,t){e.state;t.key="removeBuilding",E.get(t)},queryLocalInstallRecord:function(e,t){e.state;G.invoke({key:"queryLocalInstallRecord",success:t})},checkAndSubmit:function(){G.invoke({key:"checkAndSubmit"})}}},floor:{namespaced:!0,state:{form:""},mutations:{},actions:{upsertRoom:function(e,t){e.state;E.get({key:"upsertRoom",data:t,success:function(e){tools.success(e,{back:!0,successTips:"更新成功"}),KND.Session.set("refreshAssets",!0)}})},removeRoom:function(e,t){e.state;t.key="removeRoom",E.get(t)}}},building:{namespaced:!0,state:{},mutations:{},actions:{addBuilding:function(e,t){e.state;E.get({key:"addBuilding",data:t,success:function(e){KND.Session.set("refreshAssets",!0),MessageBox.alert("当前添加楼栋信息不会立刻生效，请稍后查看添加结果","添加成功").then(function(e){KND.Util.back()})}})},updateBuildingName:function(e,t){e.state;var n=t.upArr,r=t.id,o=function(e,t){e?function(e){E.get({key:"updateBuildingName",data:e,success:function(e){o(n.pop())}})}({"Object Id":r,BuildingNum:e.BuildingNum,Builing:e.BuildingName}):(tools.success(e,{successTips:"更新成功"}),KND.Session.set("refreshAssets",!0))};o(n.pop())}}},detail:{namespaced:!0,state:{form:""},mutations:{},actions:{queryOrderLines:function(e,t){e.state;t.key="queryOrderLines",G.invoke(t)},installOrderAssets:function(e,t){e.state;t.key="installOrderAssets",t.success=function(e){tools.success(e,{back:!0,successTips:"绑定成功"}),KND.Session.set("refreshAssets",!0)},G.invoke(t)},serialHasBind:function(e,t){e.state;t.key="serialHasBind",G.invoke(t)}}}}};r.default.use(j.default),r.default.component("fallback",p.default),r.default.component("attach",w),r.default.component("empty",P.default),r.default.component("indicator",A),r.default.config.productionTip=!1,r.default.use(o.default);var re=new o.default.Store(ne);FastClick.attach(document.body,{tapDelay:10}),a.beforeEach(function(e,t,n){var r=t.name,o="login"===r;return!1===config.back?(config.back=!0,void n(!1)):"index"!==r&&!o||"login"!==e.name||!o&&!0===e.query.login?void(0===e.matched.length?n(t.name?{name:t.name}:"/"):n()):(n(!1),void tools.cordova.goHome())}),new r.default({el:"#app",router:a,store:re,template:"<App/>",components:{App:T}})},qARP:function(e,t,n){"use strict";var r=n("lOnJ");e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},qDzr:function(e,t,n){"use strict";var r=n("Akqg");e.exports=function e(){var t,n,o,i,a,s,c=arguments[0]||{},u=1,l=arguments.length,f=!1;for("boolean"==typeof c&&(f=c,c=arguments[1]||{},u=2),"object"==typeof c||r.fn(c)||(c={});u<l;u++)if(null!=(t=arguments[u])){"string"==typeof t&&(t=t.split(""));for(n in t)o=c[n],c!==(i=t[n])&&(f&&i&&(r.hash(i)||(a=r.array(i)))?(a?(a=!1,s=o&&r.array(o)?o:[]):s=o&&r.hash(o)?o:{},c[n]=e(f,s,i)):void 0!==i&&(c[n]=i))}return c}},qnRB:function(e,t){},rjj0:function(e,t,n){e.exports=n("Trbc")(10)},slLo:function(e,t){config.mapp={network:{"4g":!1,wifi:!1}}},t8x9:function(e,t,n){var r=n("77Pl"),o=n("lOnJ"),i=n("dSzd")("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},uQnt:function(e,t,n){"use strict";t.a={name:"KND",version:"1.0",description:"for kinlong",author:"umin",online:!0,private:!0,debug:!0,host:"https://kas.kinlong.cn:8090",proxy:"https://kas.kinlong.cn:8090",pageSize:10,appNo:"CONTACT",cacheExp:86400}},un3Z:function(e,t){e.exports=base_library},woOf:function(e,t,n){e.exports=n("Trbc")(168)},wxAW:function(e,t,n){e.exports=n("un3Z")(51)},"xH/j":function(e,t,n){var r=n("hJx8");e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},zQR9:function(e,t,n){e.exports=n("49fU")(51)},zkVe:function(e,t,n){"use strict";(function(e){var t=n("woOf"),r=n.n(t),o=n("nENg"),i=n("uQnt"),a=e.project||{},s={},c=void 0,u=void 0;switch(a.env){case"PROD":s.attachServer="http://crm.kinlong.cn:9001",s.context="/crm/prd/api/",s.authorization="HELLO";break;case"SIT":s.attachServer="http://crmsit.kinlong.cn:9003",s.context="/crm/sit/api/",s.authorization="HELLO";break;case"UAT":s.attachServer="http://crmsit.kinlong.cn:9007",s.context="/crm/uat/api/",s.authorization="HELLO";break;default:s.attachServer="http://192.168.166.8:9001",s.context="/crm/dev/api/",s.authorization="ACCOUNT"}(c=r()(s,i.a,o.a,a)).isProduction=!0,u=c.name,e.config=c,e.context=u,e[u]={}}).call(t,n("DuR2"))}});